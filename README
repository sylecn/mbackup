README

mBakcup is a serial of scripts which backup user files automically through cron.

[Files]
/usr/local/bin/mbackup       # main script for cron
                             # change filelist="" in this file to read list
~/bin/mb                     # manual backup
~/bin/cbl                    # soft link to check-backup-list
                             # give a warning if out-dated
                             # used in mb script
~/bin/ubl                    # soft link to update-backup-list 
                             # the backup list generator/updater
	~/bak/backup             # files to backup, autogenerated
	~/bak/backup.svimfiles   # files to backup, autogenerated
                             # in order to use this you will need svim function in ~/.bash_aliases
~/bak/backup.userlist        # files to backup, user maintained
~/backup                     # soft link to the ~/bak/backup.userlist
/var/log/mbackup.log         # default log file
/var/log/mbackup.err         # error log file, log cron backup errors, one per run

[setup]
cp files using ./install
	if ~/bin is not in your path, add it.
      or mv ~/bin/mb to /usr/local/bin/, so you can use it easily.
setup cron for root and user
	as root:
		# crontab -e
		00 20 * * * /usr/local/bin/mbackup
	as user:
		$ crontab -e
		00 20 * * 1 /home/sylecn/bin/update-backup-list

[before backup]
1. choose a backup dir/device.
default backup dir is /backup
you can change backup dir/device in 'mbackup' and 'mb'

2. change the file 'backup.userlist' to include all files you need to backup.
note1: files and dirs should *not* end with '/'
note2: files and dirs should always use absolute path start with "/", without ".." "."

[manual backup]
run mb from console.

[cron backup]
cron backup is set up in [setup] section, to review it:
sudo crontab -e, add the following line:
00 20 * * * /usr/local/bin/mbackup
Note you need full path in cron commands in case PATH is not set in a cron env.


see also src/readme.
